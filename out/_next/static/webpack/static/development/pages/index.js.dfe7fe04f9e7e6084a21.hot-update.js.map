{"version":3,"file":"static/webpack/static/development/pages/index.js.dfe7fe04f9e7e6084a21.hot-update.js","sources":["webpack:///./components/SingleProject.jsx"],"sourcesContent":["import * as React from 'react';\nimport { ScaleLoader } from 'react-spinners';\nimport { Link, RichText } from 'prismic-reactjs';\nimport Fade from 'react-reveal/Fade';\nimport SlideshowGallery from './SlideshowGallery';\n\nclass SingleProject extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { isGalleryLarge: false };\n    this.switchGallerySize = this.switchGallerySize.bind(this);\n  }\n\n  switchGallerySize() {\n    this.setState(prevState => ({\n      isGalleryLarge: !prevState.isGalleryLarge,\n    }));\n  }\n\n  openCollapse(e) {\n    this.funcName = 'openCollapse';\n    const content = e.target.previousElementSibling;\n    if (content.style.maxHeight) {\n      content.style.maxHeight = null;\n      e.target.value = 'More...';\n    } else {\n      content.style.maxHeight = `${content.scrollHeight}px`;\n      e.target.value = 'Less...';\n    }\n  }\n\n  // SEO\n  addJSONLD(project, info) {\n    this.funcName = 'addJSONLD';\n    return {\n      __html: `{\n      \"@context\": \"http://schema.org\",\n      \"@type\": \"Article\",\n      \"mainEntityOfPage\": {\n        \"@type\": \"WebPage\",\n      },\n      \"headline\": \"${project.og_title[0].text}\",\n      \"image\": [\n        \"${project.og_image.url}\"\n      ],\n      \"datePublished\": \"${info.first_publication_date}\",\n      \"dateModified\": \"${info.first_publication_date}\",\n      \"author\": {\n        \"@type\": \"Person\",\n        \"name\": \"Ivan Shyrai\"\n      },\n      \"publisher\": {\n        \"@type\": \"Person\",\n        \"name\": \"Ivan Shyrai\",\n        \"logo\": {\n          \"@type\": \"ImageObject\",\n          \"url\": \"https://prismic-io.s3.amazonaws.com/is-portfolio%2F26e26159-2cb3-49eb-8bdf-c468df8622c9_ivan_portfolio.jpg\"\n        }\n      },\n      \"description\": \"${project.og_description[0].text}\"\n    }`,\n    };\n  }\n\n  render() {\n    const { content } = this.props;\n    const { isGalleryLarge } = this.state;\n    const project = content.data;\n    let gradientBackground = {};\n    let technologies = [];\n    let titleColor = {};\n\n    // COLORS & TECHNOLOGY TAGS\n    if (project) {\n      gradientBackground = {\n        backgroundColor: `${project.back_grad_color_2}`,\n        background: `linear-gradient(to right, ${project.back_grad_color_1}, ${project.back_grad_color_2})`,\n      };\n      titleColor = {\n        color: `${project.title_color}`,\n      };\n      technologies = project.technologies.map(item => (\n        <span key={item.technology} style={{ margin: '3px' }} className=\"tag is-dark\">{item.technology}</span>\n      ));\n    }\n\n    return (\n      <React.Fragment>\n        {!project\n          ? (\n            /* SPINNER IF PROJECT IS LOADING */\n            <div className=\"spinner-container has-text-centered\">\n              <ScaleLoader\n                className=\"spinner\"\n                sizeUnit=\"px\"\n                size={120}\n                color=\"#4a4a4a\"\n              />\n            </div>\n          ) : (\n            <div className=\"container-wrapper\" style={gradientBackground}>\n              <div className=\"container sticky-container has-background-white\">\n                {/* TECHNOLOGIES */}\n                <div className=\"technologies-tags\">\n                  {technologies}\n                </div>\n                <div className=\"columns\">\n                  {/* GALLERY COLUMN */}\n                  <div className={`column ${isGalleryLarge && 'is-three-fifths'}`}>\n                    <div className=\"sticky-item\">\n                      {/* PROJECT TITLE */}\n                      <Fade delay={700}>\n                        <h4 className=\" is-size-3 has-text-weight-bold has-text-right\" style={titleColor}>{project.title[0].text}</h4>\n                      </Fade>\n                      {/* GALLLERY COMPONENT */}\n                      <SlideshowGallery\n                        galleryImages={project.gallery_images}\n                      />\n                      <Fade delay={600}>\n                        {/* EXPAND BTN */}\n                        <span className=\"size-switch-btn is-medium is-hidden-mobile\"\n                          onClick={() => this.switchGallerySize()}>\n                          <i className=\"fas fa-expand-arrows-alt fa-lg\" />\n                        </span>\n                      </Fade>\n                    </div>\n                  </div>\n                  {/* DESCRIPTION COLUMN */}\n                  <div className=\"column content\">\n                    <Fade delay={500}>\n                      {/* PRISMIC CMS */}\n                      {RichText.render(project.description_overall)}\n                    </Fade>\n                    {/* DESCRIPTION COLLAPSE CONTAINER */}\n                    <div className=\"content-collapse\">\n                      {/* PRISMIC CMS */}\n                      <Fade delay={150}>\n                        {RichText.render(project.description_collapse)}\n                      </Fade>\n                    </div>\n                    <input\n                      className=\"button is-outlined has-text-weight-bold is-black\"\n                      type=\"button\"\n                      onClick={this.openCollapse.bind(this)}\n                      value=\"More...\"\n                    />\n                  </div>\n                </div>\n\n                {/* GITHUB LINK */}\n                {Link.url(project.github_url) && (\n                  <a\n                    className=\"external-link-container external-link-github image\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href={Link.url(project.github_url)}\n                  >\n                    <div className=\"octocat\" />\n                  </a>)\n                }\n                {/* HOST LINK */}\n                {Link.url(project.host_url) && (\n                  <a\n                    className=\"external-link-container external-link-host image\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href={Link.url(project.host_url)}\n                  >\n                    <i className=\"fas fa-external-link-alt fa-2x\" />\n                  </a>)\n                }\n              </div>\n              {/* SEO SCRIPT */}\n              <script\n                type=\"application/ld+json\"\n                dangerouslySetInnerHTML={this.addJSONLD(project, content)}\n              />\n            </div>\n          )\n        }\n        <style jsx>\n          {`\n          .content {\n            position: relative;\n          }\n          .technologies-tags {\n            margin: 1rem 0px;\n            position: absolute;\n            cursor: default;\n            bottom: 0;\n            right: 1rem;\n          }\n          .size-switch-btn {\n            position:absolute;\n            top: 2.8rem;\n            right: -.6rem;\n            cursor: pointer;\n            padding: .3rem;\n            color: #f2f2f2;\n          }\n          .spinner-container {\n            margin: 8rem 0;\n          }\n          .spinner {\n            display: block;\n            margin: 0 auto;\n            border-color: red;\n            text-align: center;\n          }\n          .sticky-container {\n            display: flex;\n            justify-content: center;\n            align-items: flex-start;\n            box-shadow:0 1rem 1rem -1rem rgba(10,10,10,.2);\n            border: 1px solid hsl(0, 0%, 86%);\n            padding: 2rem 2rem 4rem 2rem;\n            max-width: 1152px;\n            border-radius: 5px;\n          }\n          .content-collapse {\n            margin-bottom:1rem;\n            max-height: 0;\n            overflow: hidden;\n            -webkit-transition: max-height 300ms ease;\n            transition: max-height 300ms ease;\n          }\n          .container-wrapper {\n            padding-top: 9rem;\n            margin-bottom: -3rem;\n            box-shadow:0 1rem 1rem -1rem rgba(10,10,10,.2);\n          }\n          .sticky-item {\n            position: -webkit-sticky;\n            position: sticky;\n            top: 15px;\n            margin-top: -100px;\n            z-index: 100 !important;\n          }\n          .external-link-container {\n            position: absolute;\n            z-index: 10;\n            top: 1.3rem;\n          }\n          .external-link-host {\n            right: 3.6rem;\n            color: hsl(0, 0%, 48%);\n          }\n          .external-link-host:hover {\n            color: #0a0a0a;\n          }\n          .external-link-github {\n            right: 1rem;              \n          }\n          .octocat {\n            background: url('../static/github.png');\n            background-size: contain;\n            position:relative;\n            z-index: 10;\n            width:33px;\n            height:33px;\n            transition: all .3s ease-in-out;\n          }\n          .octocat:hover {\n            background: url('../static/octocat.png');\n            background-size: contain;\n            transform: scale(1.1);\n            transform: rotate(-360deg);\n            border-radius: 0%;\n            cursor: pointer;\n          }\n          @media screen and (min-width: 770px) {\n            .content {\n              padding-left: 2rem;\n            }\n          }\n          @media screen and (max-width: 769px) {\n            .sticky-container {\n                padding: 2rem 1rem 3rem 1rem;\n            }\n          }\n        `}\n        </style>\n      </React.Fragment>\n    );\n  }\n}\nexport default SingleProject;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAHA;AAIA;AACA;;;AACA;AACA;AAAA;AACA;AADA;AAAA;AAGA;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AADA;AA4BA;;;AAEA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAQA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAGA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAIA;AADA;AAGA;AAAA;AAGA;AAAA;AAAA;AADA;AAAA;AAEA;AAAA;AAMA;AAAA;AACA;AAAA;AAKA;AAAA;AAEA;AAAA;AAMA;AACA;AACA;AAJA;AAAA;AAaA;AACA;AACA;AAJA;AAAA;AAMA;AAAA;AAOA;AACA;AACA;AAJA;AAAA;AAMA;AAAA;AAMA;AACA;AAFA;AAAA;AAtFA;AAAA;AAAA;AAqMA;;;;AAtRA;AACA;AAuRA;;;;A","sourceRoot":""}